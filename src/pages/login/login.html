<ion-content padding class="login-bg">
  <div class="login-box" middle>
    <ion-card max-width>
      <img class="login-logo" src="assets/imgs/logo.png" [attr.alt]="'login.title' | translate">
      <form #form="ngForm" (ngSubmit)="loginForm(form)" novalidate>
        <ion-list>
          <ion-item class="login-select-language">
            <ion-label translate>general.language</ion-label>
            <ion-select name="language" [(ngModel)]="languageProvider.currentLanguage" (ionChange)="changeLanguage()" okText="{{'general.ok' | translate}}" cancelText="{{'general.cancel' | translate}}">
              <ion-option value="de">Deutsch</ion-option>
              <ion-option value="en">English</ion-option>
            </ion-select>
          </ion-item>

          <ion-item class="login-box-input">
            <ion-label stacked [color]="formErrors.username ? 'danger': primary">
              <span translate *ngIf="!formErrors.username">general.emailAddress</span>
              <span translate *ngIf="formErrors.username">login.mailerror</span>
            </ion-label>
            <ion-input id="email" clearInput="true" (ionBlur)="onEMailBlur(email)" [placeholder]="'general.emailExample' | translate" name="email" [(ngModel)]="user.username" #email="ngModel" type="email" spellcheck="false" autocapitalize="off" required></ion-input>
          </ion-item>

          <ion-item class="login-box-input">
            <ion-label stacked [color]="formErrors.password ? 'danger': primary" translate>general.password</ion-label>
            <ion-input id="password" clearOnEdit="true" [placeholder]="'general.password' | translate" name="password" [(ngModel)]="user.password" type="password" required></ion-input>
          </ion-item>

          <ion-item class="login-box-login-failed" *ngIf="showError">
            <ion-label translate>login.failed</ion-label>
          </ion-item>
        </ion-list>
        <br><i class="icon ion-refreshing"></i>
        <button type="submit" ion-button full no-margin icon-left [disabled]="!form.valid || isLoginIn">
          <span *ngIf="!isLoginIn"><ion-icon name="log-in"></ion-icon> {{'login.send' | translate}}</span>
          <ion-spinner *ngIf="isLoginIn"></ion-spinner>
        </button>
      </form>
    </ion-card>
    <button ion-button clear color="light" (click)="showForgetPasswortPrompt()">{{'forgetPassword.button' | translate}}</button>
    <button ion-button clear color="light" (click)="showSignUpPrompt()">{{'signup.button' | translate}}</button>
  </div>

</ion-content>
